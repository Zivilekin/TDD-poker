"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const murmurhash_1 = __importDefault(require("murmurhash"));
const path_1 = require("path");
const findConfig = require('find-config');
function resolveNamespaceFactory(hashSalt = '', prefix = '') {
    return (namespace, stylesheetPath) => {
        const configPath = findConfig('package.json', { cwd: path_1.dirname(stylesheetPath) });
        const config = require(configPath);
        const fromRoot = path_1.relative(path_1.dirname(configPath), stylesheetPath).replace(/\\/g, '/');
        return prefix + namespace + murmurhash_1.default.v3(hashSalt + config.name + '@' + config.version + '/' + fromRoot);
    };
}
exports.resolveNamespaceFactory = resolveNamespaceFactory;
exports.resolveNamespace = resolveNamespaceFactory();
//# sourceMappingURL=resolve-namespace.js.map