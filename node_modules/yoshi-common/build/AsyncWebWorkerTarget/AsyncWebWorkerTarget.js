"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.asyncWebWorkerTarget = void 0;
// @ts-nocheck
const FetchCompileWasmTemplatePlugin_1 = __importDefault(require("webpack/lib/web/FetchCompileWasmTemplatePlugin"));
const NodeSourcePlugin_1 = __importDefault(require("webpack/lib/node/NodeSourcePlugin"));
const FunctionModulePlugin_1 = __importDefault(require("webpack/lib/FunctionModulePlugin"));
const LoaderTargetPlugin_1 = __importDefault(require("webpack/lib/LoaderTargetPlugin"));
const AsyncWebWorkerPlugin_1 = require("./AsyncWebWorkerPlugin");
exports.asyncWebWorkerTarget = options => compiler => {
    new AsyncWebWorkerPlugin_1.AsyncWebWorkerPlugin().apply(compiler);
    new FetchCompileWasmTemplatePlugin_1.default({
        mangleImports: options.optimization.mangleWasmImports,
    }).apply(compiler);
    new FunctionModulePlugin_1.default().apply(compiler);
    new NodeSourcePlugin_1.default(options.node).apply(compiler);
    new LoaderTargetPlugin_1.default(options.target).apply(compiler);
};
//# sourceMappingURL=AsyncWebWorkerTarget.js.map